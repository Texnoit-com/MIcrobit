<!DOCTYPE html>
<html class="writer-html5" lang="ru" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Генератор речи &mdash; документация Microbit-Русская документация 0.1</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/translations.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Алфавитный указатель" href="../genindex.html" />
    <link rel="search" title="Поиск" href="../search.html" />
    <link rel="next" title="utime (модуль работы со временем)" href="utime.html" />
    <link rel="prev" title="Random (Генератор случайных чисел)" href="random.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #2980B9" >
            <a href="../index.html" class="icon icon-home"> Microbit-Русская документация
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Поиск в документации" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Меню навигации">
              <p class="caption" role="heading"><span class="caption-text">Основные команды</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/introduction.html">Инструкция</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/hello.html">Первая программа Hello, World!</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/images.html">Изображения</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/buttons.html">Кнопки</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/io.html">Контакты/Пины</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/music.html">Мелодии</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/random.html">Случайные числа</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/movement.html">Акселерометр</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/gestures.html">Жесты - Акселерометр</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/direction.html">Компас</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/speech.html">Речь</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/radio.html">Радиосигнал</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Справочник по API</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../API.html">Справочник по API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="microbit_micropython_api.html">Microbit Micropython API</a></li>
<li class="toctree-l2"><a class="reference internal" href="microbit.html">Модуль Microbit</a></li>
<li class="toctree-l2"><a class="reference internal" href="accelerometer.html">Акселерометр</a></li>
<li class="toctree-l2"><a class="reference internal" href="audio.html">Аудио</a></li>
<li class="toctree-l2"><a class="reference internal" href="ble.html">Bluetooth</a></li>
<li class="toctree-l2"><a class="reference internal" href="button.html">Кнопки</a></li>
<li class="toctree-l2"><a class="reference internal" href="compass.html">Компас</a></li>
<li class="toctree-l2"><a class="reference internal" href="display.html">Дисплей</a></li>
<li class="toctree-l2"><a class="reference internal" href="filesystem.html">Файловая система</a></li>
<li class="toctree-l2"><a class="reference internal" href="i2c.html">Протокол I²C</a></li>
<li class="toctree-l2"><a class="reference internal" href="i2c.html#id2">Подключение</a></li>
<li class="toctree-l2"><a class="reference internal" href="image.html">Изображение</a></li>
<li class="toctree-l2"><a class="reference internal" href="machine.html">Микроконтроллер</a></li>
<li class="toctree-l2"><a class="reference internal" href="microphone.html">Микрофон <strong>V2</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="micropython.html">MicroPython</a></li>
<li class="toctree-l2"><a class="reference internal" href="music.html">Музыка</a></li>
<li class="toctree-l2"><a class="reference internal" href="neopixel.html">NeoPixel (Адресная светодиодная лента)</a></li>
<li class="toctree-l2"><a class="reference internal" href="os.html">Библиотека OS</a></li>
<li class="toctree-l2"><a class="reference internal" href="pin.html">Контакты</a></li>
<li class="toctree-l2"><a class="reference internal" href="radio.html">Радио</a></li>
<li class="toctree-l2"><a class="reference internal" href="random.html">Random (Генератор случайных чисел)</a></li>
<li class="toctree-l2"><a class="reference internal" href="speaker.html">Генератор речи <strong>V2</strong></a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Генератор речи</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2">Функции</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id3">Пунктуация</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id4">Тембр</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id5">Фонемы</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id6">Пение</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id7">Как это работает?</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id8">Примеры</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="spi.html">Протокол SPI</a></li>
<li class="toctree-l2"><a class="reference internal" href="uart.html">Протокол UART</a></li>
<li class="toctree-l2"><a class="reference internal" href="utime.html">utime (модуль работы со временем)</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Датчики</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../sensor.html">Датчики</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Меню навигации для мобильных устройств"  style="background: #2980B9" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Microbit-Русская документация</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Навигация по страницам">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../API.html">Справочник по API</a> &raquo;</li>
      <li>Генератор речи</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/api/speech.rst.txt" rel="nofollow"> Просмотреть исходный код страницы</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-speech">
<span id="id1"></span><h1>Генератор речи<a class="headerlink" href="#module-speech" title="Ссылка на этот заголовок"></a></h1>
<p>Этот модуль заставляет micro:bit говорить, петь и издавать другие звуки, похожие на речь.</p>
<p><a class="reference internal" href="speaker.html"><span class="doc">built-in speaker</span></a> <strong>V2</strong>. Вы можете подключить проводные наушники или
динамик к контакту 0 и GND на краевом разъеме, чтобы слышать звук:</p>
<img alt="../_images/speech.png" src="../_images/speech.png" />
<div class="admonition note">
<p class="admonition-title">Примечание</p>
<p>Эта работа основана на удивительных усилиях по обратному инжинирингу
Себастьян Маке на основе старой программы преобразования текста в речь (TTS) под названием SAM.
(программное обеспечение Automated Mouth), первоначально выпущенное в 1982 г.
Commodore 64. Результатом стала небольшая библиотека C, которую разработчики приняли и
адаптирован для micro:bit. Вы можете узнать больше из
<a class="reference external" href="http://simulationcorner.net/index.php?page=sam">his homepage</a>. Много
информации в этом документе была получено от первоначального
руководства, которое можно найти <a class="reference external" href="http://www.apple-iigs.info/newdoc/sam.pdf">here</a>.</p>
</div>
<p>Синтезатор речи может воспроизводить звук продолжительностью около 2,5 секунд от 0 до
255 символов текстового ввода.</p>
<p>Для доступа к этому модулю вам необходимо:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">speech</span>
</pre></div>
</div>
<section id="id2">
<h2>Функции<a class="headerlink" href="#id2" title="Ссылка на этот заголовок"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="speech.translate">
<span class="sig-prename descclassname"><span class="pre">speech.</span></span><span class="sig-name descname"><span class="pre">translate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">words</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/speech.html#translate"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#speech.translate" title="Ссылка на это определение"></a></dt>
<dd><p>Данные английские слова в строке <code class="docutils literal notranslate"><span class="pre">words</span></code>, вернуть строку, содержащую
лучшее предположение о подходящих фонемах для произнесения. Выход
генерируется с использованием библиотеки
<a class="reference external" href="https://github.com/s-macke/SAM/wiki/Text-to-phoneme-translation-table">https://github.com/s-macke/SAM/wiki/Text-to-phoneme-translation-table</a>.</p>
<p>Эту функцию следует использовать для генерации первого приближения фонем,
которые могут быть дополнительно отредактированы вручную для улучшения точности, интонации и
акцент.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="speech.pronounce">
<span class="sig-prename descclassname"><span class="pre">speech.</span></span><span class="sig-name descname"><span class="pre">pronounce</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">phonemes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">\*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pitch=64</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">speed=72</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mouth=128</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">throat=128</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/speech.html#pronounce"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#speech.pronounce" title="Ссылка на это определение"></a></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">speech.</span></span><span class="sig-name descname"><span class="pre">pronounce</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">phonemes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">\*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pitch=64</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">speed=72</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mouth=128</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">throat=128</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin=pin0</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Произнесите фонемы в строке <code class="docutils literal notranslate"><span class="pre">phonemes</span></code>. Подробнее смотреть ниже
как использовать фонемы для точного управления выходным сигналом синтезатора речи.
Переопределите дополнительные настройки высоты тона, скорости, рта и горла, чтобы изменить
тембр (качество) голоса.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="speech.say">
<span class="sig-prename descclassname"><span class="pre">speech.</span></span><span class="sig-name descname"><span class="pre">say</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">words</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">\*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pitch=64</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">speed=72</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mouth=128</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">throat=128</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/speech.html#say"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#speech.say" title="Ссылка на это определение"></a></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">speech.</span></span><span class="sig-name descname"><span class="pre">say</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">words</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">\*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pitch=64</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">speed=72</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mouth=128</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">throat=128</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin=pin0</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Произнесите английские слова в строке <code class="docutils literal notranslate"><span class="pre">words</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="speech.sing">
<span class="sig-prename descclassname"><span class="pre">speech.</span></span><span class="sig-name descname"><span class="pre">sing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">phonemes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">\*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pitch=64</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">speed=72</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mouth=128</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">throat=128</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/speech.html#sing"><span class="viewcode-link"><span class="pre">[исходный</span> <span class="pre">код]</span></span></a><a class="headerlink" href="#speech.sing" title="Ссылка на это определение"></a></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">speech.</span></span><span class="sig-name descname"><span class="pre">sing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">phonemes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">\*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pitch=64</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">speed=72</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mouth=128</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">throat=128</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin=pin0</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Пропойте фонемы, содержащиеся в строке <code class="docutils literal notranslate"><span class="pre">phonemes</span></code>. Изменение высоты тона
и продолжительность ноты описана далее. Переопределите необязательный шаг,
настройки скорости, рта и горла, чтобы изменить тембр (качество)
голос.</p>
</dd></dl>

</section>
<section id="id3">
<h2>Пунктуация<a class="headerlink" href="#id3" title="Ссылка на этот заголовок"></a></h2>
<p>Пунктуация используется для изменения подачи речи. Синтезатор
понимает четыре знака препинания: дефис, запятую, точку и вопросительный знак.</p>
<p>Дефис (<code class="docutils literal notranslate"><span class="pre">-</span></code>) вставляет короткую паузу в речи.</p>
<p>Запятая (<code class="docutils literal notranslate"><span class="pre">,</span></code>) отмечает границу фразы и вставляет паузу примерно
вдвое больше дефиса.</p>
<p>Точка (<code class="docutils literal notranslate"><span class="pre">.</span></code>) и вопросительный знак (<code class="docutils literal notranslate"><span class="pre">?</span></code>) обозначает конец предложения.</p>
<p>Точка вставляет паузу и заставляет высоту тона падать.</p>
</section>
<section id="id4">
<h2>Тембр<a class="headerlink" href="#id4" title="Ссылка на этот заголовок"></a></h2>
<p>Тембр звука – это качество звука. Это разница между
голос робота и голосом человека. Чтобы контролировать
тембр меняйте числовые настройки <code class="docutils literal notranslate"><span class="pre">pitch</span></code>, <code class="docutils literal notranslate"><span class="pre">speed</span></code>, <code class="docutils literal notranslate"><span class="pre">mouth</span></code> и
<code class="docutils literal notranslate"><span class="pre">throat</span></code>.</p>
<p>Высота тона и скорость  настройки достаточно очевидны и в основном сводятся к следующемим
категориям:</p>
<p>Pitch:</p>
<ul class="simple">
<li><p>0-20 непрактичный</p></li>
<li><p>20-30 очень высоко</p></li>
<li><p>30-40 высокий</p></li>
<li><p>40-50 высокий нормальный</p></li>
<li><p>50-70 нормальный</p></li>
<li><p>70-80 низкий нормальный</p></li>
<li><p>80-90 низкий</p></li>
<li><p>90-255 очень низко</p></li>
</ul>
<p>(По умолчанию 64)</p>
<p>Скорость:</p>
<ul class="simple">
<li><p>0-20 непрактичный</p></li>
<li><p>20-40 очень быстро</p></li>
<li><p>40-60 быстрый</p></li>
<li><p>60-70 быстрый разговорный</p></li>
<li><p>70-75 нормальный разговорный</p></li>
<li><p>75-90 повествование</p></li>
<li><p>90-100 медленный</p></li>
<li><p>100-225 очень медленный</p></li>
</ul>
<p>(По умолчанию 72)</p>
<p>Значения рта и горла немного сложнее объяснить, и следующие описания основаны на наших
слуховых впечатлениях от речи, значение каждой настройки можно изменять.</p>
<p>Для начала вот несколько примеров:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">speech</span><span class="o">.</span><span class="n">say</span><span class="p">(</span><span class="s2">&quot;I am a little robot&quot;</span><span class="p">,</span>  <span class="n">speed</span><span class="o">=</span><span class="mi">92</span><span class="p">,</span> <span class="n">pitch</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span> <span class="n">throat</span><span class="o">=</span><span class="mi">190</span><span class="p">,</span> <span class="n">mouth</span><span class="o">=</span><span class="mi">190</span><span class="p">)</span>
<span class="n">speech</span><span class="o">.</span><span class="n">say</span><span class="p">(</span><span class="s2">&quot;I am an elf&quot;</span><span class="p">,</span> <span class="n">speed</span><span class="o">=</span><span class="mi">72</span><span class="p">,</span> <span class="n">pitch</span><span class="o">=</span><span class="mi">64</span><span class="p">,</span> <span class="n">throat</span><span class="o">=</span><span class="mi">110</span><span class="p">,</span> <span class="n">mouth</span><span class="o">=</span><span class="mi">160</span><span class="p">)</span>
<span class="n">speech</span><span class="o">.</span><span class="n">say</span><span class="p">(</span><span class="s2">&quot;I am a news presenter&quot;</span><span class="p">,</span> <span class="n">speed</span><span class="o">=</span><span class="mi">82</span><span class="p">,</span> <span class="n">pitch</span><span class="o">=</span><span class="mi">72</span><span class="p">,</span> <span class="n">throat</span><span class="o">=</span><span class="mi">110</span><span class="p">,</span> <span class="n">mouth</span><span class="o">=</span><span class="mi">105</span><span class="p">)</span>
<span class="n">speech</span><span class="o">.</span><span class="n">say</span><span class="p">(</span><span class="s2">&quot;I am an old lady&quot;</span><span class="p">,</span> <span class="n">speed</span><span class="o">=</span><span class="mi">82</span><span class="p">,</span> <span class="n">pitch</span><span class="o">=</span><span class="mi">32</span><span class="p">,</span> <span class="n">throat</span><span class="o">=</span><span class="mi">145</span><span class="p">,</span> <span class="n">mouth</span><span class="o">=</span><span class="mi">145</span><span class="p">)</span>
<span class="n">speech</span><span class="o">.</span><span class="n">say</span><span class="p">(</span><span class="s2">&quot;I am E.T.&quot;</span><span class="p">,</span> <span class="n">speed</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">pitch</span><span class="o">=</span><span class="mi">64</span><span class="p">,</span> <span class="n">throat</span><span class="o">=</span><span class="mi">150</span><span class="p">,</span> <span class="n">mouth</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>
<span class="n">speech</span><span class="o">.</span><span class="n">say</span><span class="p">(</span><span class="s2">&quot;I am a DALEK - EXTERMINATE&quot;</span><span class="p">,</span> <span class="n">speed</span><span class="o">=</span><span class="mi">120</span><span class="p">,</span> <span class="n">pitch</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">throat</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">mouth</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id5">
<h2>Фонемы<a class="headerlink" href="#id5" title="Ссылка на этот заголовок"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">say</span></code> функция позволяет легко произносить речь, но часто это не точное.
Чтобы убедиться, что синтезатор речи произносит вещи
<em>правильно</em> как хотите, нужно использовать фонемы: самые маленькие
воспринимаемые единицы звука, которые можно использовать для различения различных
слова.</p>
<p><code class="docutils literal notranslate"><span class="pre">pronounce</span></code> функция принимает строку, содержащую упрощенную и читаемую
версию <a class="reference external" href="https://en.wikipedia.org/wiki/International_Phonetic_Alphabet">International Phonetic Alphabet</a>
и необязательные аннотации для указания интонация и ударение.</p>
<p>Преимущество использования фонем в том, что вам не нужно знать, как правильно писать!
Скорее, вам нужно только знать, как сказать слово, чтобы написать его по буквам.
фонетически.</p>
<p>В таблице ниже перечислены фонемы, понятные синтезатору.</p>
<div class="admonition note">
<p class="admonition-title">Примечание</p>
<p>Таблица содержит фонему в виде символов и пример слова. То слова-примеры имеют звук фонемы
(в скобках), но не обязательно одинаковые буквы</p>
<p>ПРОСТЫЕ ГЛАСНЫЕ                      ЗВОНКОВЫЕ СОГЛАСНЫЕ
IY           f(ee)t                    R        (r)ed
IH           p(i)n                     L        a(ll)ow
EH           b(e)g                     W        a(w)ay
AE           S(a)m                     W        (wh)ale
AA           p(o)t                     Y        (y)ou
AH           b(u)dget                  M        Sa(m)
AO           t(al)k                    N        ma(n)
OH           c(o)ne                    NX       so(ng)
UH           b(oo)k                    B        (b)ad
UX           l(oo)t                    D        (d)og
ER           b(ir)d                    G        a(g)ain
AX           gall(o)n                  J        (j)u(dg)e
IX           dig(i)t                   Z        (z)oo
ZH           plea(s)ure
ДИФТОНГИ                               V        se(v)en
EY           m(a)de                    DH       (th)en
AY           h(igh)
OY           b(oy)
AW           h(ow)
OW           sl(ow)
UW           cr(ew)</p>
<p>ГЛУХИЕ СОГЛАСНЫЕ
S         (S)am
SH        fi(sh)
F         (f)ish
TH        (th)in
P         (p)oke
T         (t)alk
K         (c)ake
CH        spee(ch)
/H        a(h)ead</p>
<p>СПЕЦИАЛЬНЫЕ ФОНЕМЫ
UL           sett(le) (=AXL)
UM           astron(om)y (=AXM)
UN           functi(on) (=AXN)
Q            kitt-en (glottal stop)</p>
</div>
<p>Пользователю также доступны следующие нестандартные символы:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">YX</span>           <span class="n">окончание</span> <span class="n">дифтонга</span> <span class="p">(</span><span class="n">weaker</span> <span class="n">version</span> <span class="n">of</span> <span class="n">Y</span><span class="p">)</span>
<span class="n">WX</span>           <span class="n">diphthong</span> <span class="n">ending</span> <span class="p">(</span><span class="n">weaker</span> <span class="n">version</span> <span class="n">of</span> <span class="n">W</span><span class="p">)</span>
<span class="n">RX</span>           <span class="n">R</span> <span class="n">после</span> <span class="n">гласной</span> <span class="p">(</span><span class="n">smooth</span> <span class="n">version</span> <span class="n">of</span> <span class="n">R</span><span class="p">)</span>
<span class="n">LX</span>           <span class="n">L</span> <span class="n">после</span> <span class="n">гласной</span> <span class="p">(</span><span class="n">smooth</span> <span class="n">version</span> <span class="n">of</span> <span class="n">L</span><span class="p">)</span>
<span class="o">/</span><span class="n">X</span>           <span class="n">H</span> <span class="n">перед</span> <span class="n">гласной</span> <span class="n">или</span> <span class="n">согласной</span> <span class="n">не</span> <span class="n">переднего</span> <span class="n">ряда</span> <span class="o">-</span> <span class="n">как</span> <span class="n">в</span> <span class="p">(</span><span class="n">wh</span><span class="p">)</span><span class="n">o</span>
<span class="n">DX</span>           <span class="n">T</span> <span class="n">как</span> <span class="n">в</span> <span class="n">pi</span><span class="p">(</span><span class="n">t</span><span class="p">)</span><span class="n">y</span> <span class="p">(</span><span class="n">weaker</span> <span class="n">version</span> <span class="n">of</span> <span class="n">T</span><span class="p">)</span>
</pre></div>
</div>
<p>Вот некоторые редко используемые комбинации фонем (и предлагаемые альтернативы):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ФОНЕМА</span>        <span class="n">НАВЕРНОЕ</span> <span class="n">ВЫ</span> <span class="n">ХОТИТЕ</span><span class="p">:</span>     <span class="n">ЕСЛИ</span> <span class="n">ЭТО</span> <span class="n">НЕ</span> <span class="n">РАЗДЕЛЯЕТ</span> <span class="n">СЛОГИ</span><span class="p">,</span> <span class="n">КАК</span><span class="p">:</span>
<span class="n">КОМБИНАЦИЯ</span>
<span class="n">GS</span>             <span class="n">GZ</span> <span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span> <span class="n">ba</span><span class="p">(</span><span class="n">gs</span><span class="p">)</span>         <span class="n">bu</span><span class="p">(</span><span class="n">gs</span><span class="p">)</span><span class="n">pray</span>
<span class="n">BS</span>             <span class="n">BZ</span> <span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span> <span class="n">slo</span><span class="p">(</span><span class="n">bz</span><span class="p">)</span>        <span class="n">o</span><span class="p">(</span><span class="n">bsc</span><span class="p">)</span><span class="n">ene</span>
<span class="n">DS</span>             <span class="n">DZ</span> <span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span> <span class="n">su</span><span class="p">(</span><span class="n">ds</span><span class="p">)</span>         <span class="n">Hu</span><span class="p">(</span><span class="n">ds</span><span class="p">)</span><span class="n">son</span>
<span class="n">PZ</span>             <span class="n">PS</span> <span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span> <span class="n">sla</span><span class="p">(</span><span class="n">ps</span><span class="p">)</span>        <span class="o">-----</span>
<span class="n">TZ</span>             <span class="n">TS</span> <span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span> <span class="n">cur</span><span class="p">(</span><span class="n">ts</span><span class="p">)</span><span class="n">y</span>       <span class="o">-----</span>
<span class="n">KZ</span>             <span class="n">KS</span> <span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span> <span class="n">fi</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>          <span class="o">-----</span>
<span class="n">NG</span>             <span class="n">NXG</span> <span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span> <span class="n">singing</span>       <span class="n">i</span><span class="p">(</span><span class="n">ng</span><span class="p">)</span><span class="n">rate</span>
<span class="n">NK</span>             <span class="n">NXK</span> <span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span> <span class="n">bank</span>          <span class="n">Su</span><span class="p">(</span><span class="n">nk</span><span class="p">)</span><span class="n">ist</span>
</pre></div>
</div>
<p>Если Вы используете что-либо кроме фонем, описанных выше, <code class="docutils literal notranslate"><span class="pre">ValueError</span></code>
будет возбуждено исключение. Передайте фонемы в виде такой строки:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">speech</span><span class="o">.</span><span class="n">pronounce</span><span class="p">(</span><span class="s2">&quot;/HEHLOW&quot;</span><span class="p">)</span>  <span class="c1"># &quot;Hello&quot;</span>
</pre></div>
</div>
<p>Фонемы делятся на две большие группы: гласные и согласные.</p>
<p><strong>Ниже описнные правила относятся к английскому языку</strong></p>
<p>Гласные далее подразделяются на простые гласные и дифтонги. Простые гласные
не меняют звучание, когда вы их произносите, тогда как дифтонги начинаются с единицы
звучат и заканчиваются другим. Например, когда вы произносите слово «масло», «ой»
гласная начинается со звука «о», но меняется на звук «и».</p>
<p>Согласные также подразделяются на две группы: звонкие и глухие. Озвученный
согласные требуют, чтобы говорящий использовал свои голосовые связки для воспроизведения звука.
Например, такие согласные, как «Л», «Н» и «З», звонкие. Глухие согласные
производятся потоком воздуха, например «P», «T» и «SH».</p>
<p>Как только вы привыкнете к этому, система фонем станет легкой. Для начала немного
написание может показаться сложным (например, в слове «приключение» есть буква «СН»), но
Правило состоит в том, чтобы писать то, что вы говорите, а не то, что пишете. Эксперименты лучше всего
способ разрешения проблемных слов.</p>
<p>Также важно, чтобы речь звучала естественно и понятно. Помогать
с улучшением качества разговорного вывода часто полезно использовать встроенный
система ударения для добавления интонации или ударения.</p>
<p>Имеется восемь маркеров стресса, обозначенных цифрами от 1 до 8. Просто
вставьте необходимое число после ударной гласной. Например,
отсутствие выражения «/HEHLOW» значительно улучшается (и дружелюбнее), когда
написано «/HEH3LOW».</p>
<p>Также возможно изменить значение слов через то, как они
подчеркнул. Рассмотрим фразу «Почему я должен идти в магазин пешком?». Возможно
произносится по-разному:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Вам нужна причина, чтобы сделать это.</span>
<span class="n">speech</span><span class="o">.</span><span class="n">pronounce</span><span class="p">(</span><span class="s2">&quot;WAY2 SHUH7D AY WAO5K TUX DHAH STOH5R.&quot;</span><span class="p">)</span>
<span class="c1"># Вы не хотите идти.</span>
<span class="n">speech</span><span class="o">.</span><span class="n">pronounce</span><span class="p">(</span><span class="s2">&quot;WAY7 SHUH2D AY WAO7K TUX DHAH STOH5R.&quot;</span><span class="p">)</span>
<span class="c1"># Вы хотите, чтобы это сделал кто-то другой.</span>
<span class="n">speech</span><span class="o">.</span><span class="n">pronounce</span><span class="p">(</span><span class="s2">&quot;WAY5 SHUH7D AY2 WAO7K TUX DHAH STOHR.&quot;</span><span class="p">)</span>
<span class="c1"># Вы бы предпочли водить.</span>
<span class="n">speech</span><span class="o">.</span><span class="n">pronounce</span><span class="p">(</span><span class="s2">&quot;WAY5 SHUHD AY7 WAO2K TUX7 DHAH STOHR.&quot;</span><span class="p">)</span>
<span class="c1"># Вы хотите пойти куда-нибудь еще.</span>
<span class="n">speech</span><span class="o">.</span><span class="n">pronounce</span><span class="p">(</span><span class="s2">&quot;WAY5 SHUHD AY WAO5K TUX DHAH STOH2OH7R.&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Проще говоря, разные ударения в речи создают более выразительный тон речи.
голос.</p>
<p>Они работают, повышая или понижая высоту тона и удлиняя соответствующую гласную.
звук в зависимости от числа, которое вы даете:</p>
<ol class="arabic simple">
<li><p>очень эмоциональный стресс</p></li>
<li><p>очень сильное ударение</p></li>
<li><p>довольно сильный стресс</p></li>
<li><p>обычный стресс</p></li>
<li><p>жесткий стресс</p></li>
<li><p>нейтральное (без изменения высоты тона) напряжение</p></li>
<li><p>сбрасывающее напряжение</p></li>
<li><p>экстремальное напряжение сбрасывания высоты тона</p></li>
</ol>
<p>Чем меньше число, тем более экстремальным будет акцент. Однако такие
маркеры ударения помогут правильно произносить сложные слова. Например, если
слог произносится недостаточно, поставьте маркер нейтрального ударения.</p>
<p>Также можно удлинять слова с помощью маркеров ударения.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">speech</span><span class="o">.</span><span class="n">pronounce</span><span class="p">(</span><span class="s2">&quot;/HEH5EH4EH3EH2EH2EH3EH4EH5EHLP.”)</span>
</pre></div>
</div>
</section>
<section id="id6">
<h2>Пение<a class="headerlink" href="#id6" title="Ссылка на этот заголовок"></a></h2>
<p>Можно заставить MicroPython петь фонемы.</p>
<p>Это делается путем аннотирования числа, связанного с высотой тона, к фонеме. Чем ниже
число, тем выше тон. Числа примерно переводятся в музыкальные ноты как
показано на схеме ниже:</p>
<img alt="../_images/speech-pitch.png" src="../_images/speech-pitch.png" />
<p>Аннотации работают, предваряя знак решетки (<code class="docutils literal notranslate"><span class="pre">#</span></code>) и номер шага
перед фонемой. Шаг останется прежним, пока не появится новая аннотация.
Например, заставьте MicroPython петь вот такую гамму:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">solfa</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;#115DOWWWWWW&quot;</span><span class="p">,</span>   <span class="c1"># Doh</span>
    <span class="s2">&quot;#103REYYYYYY&quot;</span><span class="p">,</span>   <span class="c1"># Re</span>
    <span class="s2">&quot;#94MIYYYYYY&quot;</span><span class="p">,</span>    <span class="c1"># Mi</span>
    <span class="s2">&quot;#88FAOAOAOAOR&quot;</span><span class="p">,</span>  <span class="c1"># Fa</span>
    <span class="s2">&quot;#78SOHWWWWW&quot;</span><span class="p">,</span>    <span class="c1"># Soh</span>
    <span class="s2">&quot;#70LAOAOAOAOR&quot;</span><span class="p">,</span>  <span class="c1"># La</span>
    <span class="s2">&quot;#62TIYYYYYY&quot;</span><span class="p">,</span>    <span class="c1"># Ti</span>
    <span class="s2">&quot;#58DOWWWWWW&quot;</span><span class="p">,</span>    <span class="c1"># Doh</span>
<span class="p">]</span>
<span class="n">song</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">solfa</span><span class="p">)</span>
<span class="n">speech</span><span class="o">.</span><span class="n">sing</span><span class="p">(</span><span class="n">song</span><span class="p">,</span> <span class="n">speed</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
<p>Для того, чтобы спеть ноту на определенную продолжительность, удлините повторяя гласные
или звонкие согласные фонемы (как показано в пример выше).</p>
<p>Экспериментирование, внимательное слушание и корректировка — единственный верный способ работать.</p>
</section>
<section id="id7">
<h2>Как это работает?<a class="headerlink" href="#id7" title="Ссылка на этот заголовок"></a></h2>
<p>В оригинальном мануале все понятно:</p>
<blockquote>
<div><p>Во-первых, вместо того, чтобы записывать фактическую форму речевого сигнала, мы сохраняем только
частотные спектры. Делая это, мы экономим память и подбираем другие
преимущества. Во-вторых, мы […] храним некоторые данные о времени. Эти
числа, относящиеся к длительности каждой фонемы при разных
обстоятельствах, а также некоторые данные о времени перехода, чтобы мы могли знать, как
смешать фонему с ее соседями. В-третьих, мы разрабатываем систему правил
иметь дело со всеми этими данными, и, к нашему большому удивлению, наш компьютер
болтать в кратчайшие сроки.</p>
<p class="attribution">—S.A.M. owner’s manual.</p>
</div></blockquote>
<p>Выходные данные передаются через функции, предоставляемые модулем «аудио» и,
привет, вуаля, у нас есть говорящий микро:бит.</p>
</section>
<section id="id8">
<h2>Примеры<a class="headerlink" href="#id8" title="Ссылка на этот заголовок"></a></h2>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    speech.py</span>
<span class="sd">    ~~~~~~~~</span>

<span class="sd">    Simple speech example to make the micro:bit say, pronounce and sing</span>
<span class="sd">    something. This example requires a speaker/buzzer/headphones connected</span>
<span class="sd">    to P0 and GND,or the latest micro:bit device with built-in speaker.</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">import</span> <span class="nn">speech</span>
<span class="kn">from</span> <span class="nn">microbit</span> <span class="kn">import</span> <span class="n">sleep</span>

<span class="c1"># The say method attempts to convert English into phonemes.</span>
<span class="n">speech</span><span class="o">.</span><span class="n">say</span><span class="p">(</span><span class="s2">&quot;I can sing!&quot;</span><span class="p">)</span>
<span class="n">sleep</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
<span class="n">speech</span><span class="o">.</span><span class="n">say</span><span class="p">(</span><span class="s2">&quot;Listen to me!&quot;</span><span class="p">)</span>
<span class="n">sleep</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>

<span class="c1"># Clearing the throat requires the use of phonemes. Changing</span>
<span class="c1"># the pitch and speed also helps create the right effect.</span>
<span class="n">speech</span><span class="o">.</span><span class="n">pronounce</span><span class="p">(</span><span class="s2">&quot;AEAE/HAEMM&quot;</span><span class="p">,</span> <span class="n">pitch</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">speed</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>  <span class="c1"># Ahem</span>
<span class="n">sleep</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>

<span class="c1"># Singing requires a phoneme with an annotated pitch for each syllable.</span>
<span class="n">solfa</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;#115DOWWWWWW&quot;</span><span class="p">,</span>   <span class="c1"># Doh</span>
    <span class="s2">&quot;#103REYYYYYY&quot;</span><span class="p">,</span>   <span class="c1"># Re</span>
    <span class="s2">&quot;#94MIYYYYYY&quot;</span><span class="p">,</span>    <span class="c1"># Mi</span>
    <span class="s2">&quot;#88FAOAOAOAOR&quot;</span><span class="p">,</span>  <span class="c1"># Fa</span>
    <span class="s2">&quot;#78SOHWWWWW&quot;</span><span class="p">,</span>    <span class="c1"># Soh</span>
    <span class="s2">&quot;#70LAOAOAOAOR&quot;</span><span class="p">,</span>  <span class="c1"># La</span>
    <span class="s2">&quot;#62TIYYYYYY&quot;</span><span class="p">,</span>    <span class="c1"># Ti</span>
    <span class="s2">&quot;#58DOWWWWWW&quot;</span><span class="p">,</span>    <span class="c1"># Doh</span>
<span class="p">]</span>

<span class="c1"># Sing the scale ascending in pitch.</span>
<span class="n">song</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">solfa</span><span class="p">)</span>
<span class="n">speech</span><span class="o">.</span><span class="n">sing</span><span class="p">(</span><span class="n">song</span><span class="p">,</span> <span class="n">speed</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="c1"># Reverse the list of syllables.</span>
<span class="n">solfa</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>
<span class="n">song</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">solfa</span><span class="p">)</span>
<span class="c1"># Sing the scale descending in pitch.</span>
<span class="n">speech</span><span class="o">.</span><span class="n">sing</span><span class="p">(</span><span class="n">song</span><span class="p">,</span> <span class="n">speed</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Нижняя область">
        <a href="random.html" class="btn btn-neutral float-left" title="Random (Генератор случайных чисел)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Предыдущая</a>
        <a href="utime.html" class="btn btn-neutral float-right" title="utime (модуль работы со временем)" accesskey="n" rel="next">Следующая <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Maxim Bekurin, Read the Docs, Inc. &amp; contributors.</p>
  </div>

  Собрано при помощи <a href="https://www.sphinx-doc.org/">Sphinx</a> с использованием
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">темы,</a>
    предоставленной <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-XXXXXXXXXX', {
          'anonymize_ip': false,
      });
    </script> 

</body>
</html>