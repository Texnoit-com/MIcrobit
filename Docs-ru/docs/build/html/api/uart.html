<!DOCTYPE html>
<html class="writer-html5" lang="ru" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Протокол UART &mdash; документация Microbit-Русская документация 0.1</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/translations.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Алфавитный указатель" href="../genindex.html" />
    <link rel="search" title="Поиск" href="../search.html" />
    <link rel="next" title="Bluetooth" href="ble.html" />
    <link rel="prev" title="Протокол SPI" href="spi.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #2980B9" >
            <a href="../index.html" class="icon icon-home"> Microbit-Русская документация
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Поиск в документации" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Меню навигации">
              <p class="caption" role="heading"><span class="caption-text">Основные команды</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/introduction.html">Инструкция</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/hello.html">Первая программа Hello, World!</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/images.html">Изображения</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/buttons.html">Кнопки</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/io.html">Контакты/Пины</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/music.html">Мелодии</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/random.html">Случайные числа</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/movement.html">Акселерометр</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/gestures.html">Жесты - Акселерометр</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/direction.html">Компас</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/speech.html">Речь</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/radio.html">Радиосигнал</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Справочник по API</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../API.html">Справочник по API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="microbit_micropython_api.html">Microbit Micropython API</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="microbit.html">Модуль Microbit</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="microbit.html#id1">Функции</a></li>
<li class="toctree-l3"><a class="reference internal" href="microbit.html#id2">Атрибуты</a></li>
<li class="toctree-l3"><a class="reference internal" href="microbit.html#id3">Класс</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="microbit.html#id4">Модули</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="accelerometer.html">Акселерометр</a></li>
<li class="toctree-l4"><a class="reference internal" href="audio.html">Audio V2</a></li>
<li class="toctree-l4"><a class="reference internal" href="compass.html">Компас</a></li>
<li class="toctree-l4"><a class="reference internal" href="display.html">Дисплей</a></li>
<li class="toctree-l4"><a class="reference internal" href="i2c.html">Протокол I²C</a></li>
<li class="toctree-l4"><a class="reference internal" href="i2c.html#id2">Подключение</a></li>
<li class="toctree-l4"><a class="reference internal" href="microphone.html">Микрофон <strong>V2</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="speaker.html">Генератор речи <strong>V2</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="spi.html">Протокол SPI</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Протокол UART</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="accelerometer.html">Акселерометр</a></li>
<li class="toctree-l2"><a class="reference internal" href="audio.html">Аудио</a></li>
<li class="toctree-l2"><a class="reference internal" href="ble.html">Bluetooth</a></li>
<li class="toctree-l2"><a class="reference internal" href="button.html">Кнопки</a></li>
<li class="toctree-l2"><a class="reference internal" href="compass.html">Компас</a></li>
<li class="toctree-l2"><a class="reference internal" href="display.html">Дисплей</a></li>
<li class="toctree-l2"><a class="reference internal" href="filesystem.html">Файловая система</a></li>
<li class="toctree-l2"><a class="reference internal" href="i2c.html">Протокол I²C</a></li>
<li class="toctree-l2"><a class="reference internal" href="i2c.html#id2">Подключение</a></li>
<li class="toctree-l2"><a class="reference internal" href="image.html">Изображение</a></li>
<li class="toctree-l2"><a class="reference internal" href="machine.html">Микроконтроллер</a></li>
<li class="toctree-l2"><a class="reference internal" href="microphone.html">Микрофон <strong>V2</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="micropython.html">MicroPython</a></li>
<li class="toctree-l2"><a class="reference internal" href="music.html">Музыка</a></li>
<li class="toctree-l2"><a class="reference internal" href="neopixel.html">NeoPixel (Адресная светодиодная лента)</a></li>
<li class="toctree-l2"><a class="reference internal" href="os.html">Библиотека OS</a></li>
<li class="toctree-l2"><a class="reference internal" href="pin.html">Контакты</a></li>
<li class="toctree-l2"><a class="reference internal" href="radio.html">Радио</a></li>
<li class="toctree-l2"><a class="reference internal" href="random.html">Random (Генератор случайных чисел)</a></li>
<li class="toctree-l2"><a class="reference internal" href="speaker.html">Генератор речи <strong>V2</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="speech.html">Генератор речи</a></li>
<li class="toctree-l2"><a class="reference internal" href="spi.html">Протокол SPI</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Протокол UART</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">Функции</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="utime.html">utime (модуль работы со временем)</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Датчики</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../sensor.html">Датчики</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Меню навигации для мобильных устройств"  style="background: #2980B9" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Microbit-Русская документация</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Навигация по страницам">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../API.html">Справочник по API</a> &raquo;</li>
          <li><a href="microbit.html">Модуль Microbit</a> &raquo;</li>
      <li>Протокол UART</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/api/uart.rst.txt" rel="nofollow"> Просмотреть исходный код страницы</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-microbit.uart">
<span id="uart"></span><h1>Протокол UART<a class="headerlink" href="#module-microbit.uart" title="Ссылка на этот заголовок"></a></h1>
<p>Модуль <code class="docutils literal notranslate"><span class="pre">uart</span></code> позволяет вам общаться с устройством, подключенным к вашей плате, используя
последовательный интерфейс.</p>
<section id="id1">
<h2>Функции<a class="headerlink" href="#id1" title="Ссылка на этот заголовок"></a></h2>
<dl class="py method">
<dt class="sig sig-object py" id="microbit.uart.init">
<span class="sig-prename descclassname"><span class="pre">microbit.uart.</span></span><span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">baudrate=9600</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bits=8</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parity=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stop=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">\*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tx=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rx=None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#microbit.uart.init" title="Ссылка на это определение"></a></dt>
<dd><p>Инициализировать последовательную связь с указанными параметрами на
указанные выводы <code class="docutils literal notranslate"><span class="pre">tx</span></code> и <code class="docutils literal notranslate"><span class="pre">rx</span></code>. Обратите внимание, что для правильной связи параметры
должны быть одинаковыми на обоих взаимодействующих устройствах.</p>
<div class="admonition warning">
<p class="admonition-title">Предупреждение</p>
<p>Инициализация UART на внешних контактах вызовет включение консоли Python.
USB становится недоступным, так как использует то же оборудование. Чтобы настроить
консоли обратно, Вы должны повторно инициализировать UART, ничего не передавая для
<code class="docutils literal notranslate"><span class="pre">tx</span></code> или <code class="docutils literal notranslate"><span class="pre">rx</span></code> (или передача <code class="docutils literal notranslate"><span class="pre">None</span></code> этим аргументам). Это означает
что вызова uart.init(115200) достаточно для восстановления консоли Python.</p>
</div>
<p><code class="docutils literal notranslate"><span class="pre">baudrate</span></code> определяет скорость передачи данных:</p>
<blockquote>
<div><ul class="simple">
<li><p>9600</p></li>
<li><p>14400</p></li>
<li><p>19200</p></li>
<li><p>28800</p></li>
<li><p>38400</p></li>
<li><p>57600</p></li>
<li><p>115200</p></li>
</ul>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">bits</span></code> определяет размер передаваемых байтов, плата
поддерживает только 8. Параметр <code class="docutils literal notranslate"><span class="pre">parity</span></code> определяет, как проверяется четность,
Параметр <code class="docutils literal notranslate"><span class="pre">stop</span></code> указывает количество стоповых битов и должен быть равен 1 для
эта доска.</p>
<p>Если <code class="docutils literal notranslate"><span class="pre">tx</span></code> и <code class="docutils literal notranslate"><span class="pre">rx</span></code> не указаны, то внутренние контакты USB-UART TX/RX
используются, они подключаются к последовательному преобразователю USB на micro:bit.
Вы можете указать любые другие контакты, которые вы хотите,
передача желаемых объектов вывода в параметры <code class="docutils literal notranslate"><span class="pre">tx</span></code> и <code class="docutils literal notranslate"><span class="pre">rx</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Примечание</p>
<p>При подключении устройства убедитесь, что вы «перекрестили» провода — TX
вывод на вашей плате должен быть соединен с выводом RX на устройстве,
а контакт RX – с контактом TX на устройстве. Также убедитесь, что
заземление обоих устройств соединено.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="microbit.uart.uart.any">
<span class="sig-prename descclassname"><span class="pre">uart.</span></span><span class="sig-name descname"><span class="pre">any</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#microbit.uart.uart.any" title="Ссылка на это определение"></a></dt>
<dd><p>Возвращает <code class="docutils literal notranslate"><span class="pre">True</span></code> если какие-либо данные ожидаются, иначе <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="microbit.uart.uart.read">
<span class="sig-prename descclassname"><span class="pre">uart.</span></span><span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param"><span class="n"><span class="pre">nbytes</span></span></em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#microbit.uart.uart.read" title="Ссылка на это определение"></a></dt>
<dd><p>Читатет байты. Если указано <code class="docutils literal notranslate"><span class="pre">nbytes</span></code>, тогда можно прочитать не больше этого количества
байт, в противном случае прочитайте как можно больше байтов.</p>
<p>Возвращаемое значение: объект bytes или <code class="docutils literal notranslate"><span class="pre">None</span></code> по тайм-ауту.</p>
<p>Объект bytes содержит последовательность байтов. Так как
<a class="reference external" href="https://en.wikipedia.org/wiki/ASCII">ASCII</a> персонажи могут вписать
одиночные байты, этот тип объекта часто используется для представления простого текста
и предлагает методы манипулирования им как таковым, например. вы можете отобразить текст
используя функцию <code class="docutils literal notranslate"><span class="pre">print()</span></code>.</p>
<p>Вы также можете преобразовать этот объект в строковый объект, и если есть
символы, отличные от ASCII, могут быть указаны в кодировке:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">msg_bytes</span> <span class="o">=</span> <span class="n">uart</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="n">msg_str</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="s1">&#39;UTF-8&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Примечание</p>
<p>Тайм-аут для всех операций чтения UART зависит от скорости передачи данных и в противном случае
нельзя изменить через Python. Тайм-аут в миллисекундах определяется выражением:
<code class="docutils literal notranslate"><span class="pre">microbit_uart_timeout_char</span> <span class="pre">=</span> <span class="pre">13000</span> <span class="pre">/</span> <span class="pre">baudrate</span> <span class="pre">+</span> <span class="pre">1</span></code></p>
</div>
<div class="admonition note">
<p class="admonition-title">Примечание</p>
<p>Внутренний буфер UART RX составляет 64 байта, поэтому убедитесь, что данные считываются
до того, как буфер заполнится или некоторые данные могут быть потеряны.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Предупреждение</p>
<p>Получение <code class="docutils literal notranslate"><span class="pre">0x03</span></code> остановит вашу программу, подняв клавиатуру.
Прерывать. Вы можете включить или отключить это, используя
<code class="xref py py-func docutils literal notranslate"><span class="pre">micropython.kbd_intr()</span></code>.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="microbit.uart.uart.readinto">
<span class="sig-prename descclassname"><span class="pre">uart.</span></span><span class="sig-name descname"><span class="pre">readinto</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">buf</span></span></em><span class="optional">[</span>, <em class="sig-param"><span class="n"><span class="pre">nbytes</span></span></em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#microbit.uart.uart.readinto" title="Ссылка на это определение"></a></dt>
<dd><p>Считайте байты в <code class="docutils literal notranslate"><span class="pre">buf</span></code>. Если указано <code class="docutils literal notranslate"><span class="pre">nbytes</span></code>, то можно прочитать не более
столько байтов. В противном случае читать не более <code class="docutils literal notranslate"><span class="pre">len(buf)</span></code> байт.</p>
<p>Возвращаемое значение: количество байтов, прочитанных и сохраненных в <code class="docutils literal notranslate"><span class="pre">buf</span></code> или <code class="docutils literal notranslate"><span class="pre">None</span></code> на
тайм-аут.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="microbit.uart.uart.readline">
<span class="sig-prename descclassname"><span class="pre">uart.</span></span><span class="sig-name descname"><span class="pre">readline</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#microbit.uart.uart.readline" title="Ссылка на это определение"></a></dt>
<dd><p>Прочитать строку, заканчивающуюся символом новой строки.</p>
<p>Возвращаемое значение: прочитанная строка или <code class="docutils literal notranslate"><span class="pre">None</span></code> по тайм-ауту. Символ новой строки
включены в возвращаемые байты.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="microbit.uart.uart.write">
<span class="sig-prename descclassname"><span class="pre">uart.</span></span><span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">buf</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#microbit.uart.uart.write" title="Ссылка на это определение"></a></dt>
<dd><p>Запишите буфер на шину, это может быть байтовый объект или строка:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">uart</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;hello world&#39;</span><span class="p">)</span>
<span class="n">uart</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;hello world&#39;</span><span class="p">)</span>
<span class="n">uart</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="nb">bytes</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]))</span>
</pre></div>
</div>
<p>Возвращаемое значение: количество записанных байтов или <code class="docutils literal notranslate"><span class="pre">None</span></code> по тайм-ауту..</p>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Нижняя область">
        <a href="spi.html" class="btn btn-neutral float-left" title="Протокол SPI" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Предыдущая</a>
        <a href="ble.html" class="btn btn-neutral float-right" title="Bluetooth" accesskey="n" rel="next">Следующая <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Maxim Bekurin, Read the Docs, Inc. &amp; contributors.</p>
  </div>

  Собрано при помощи <a href="https://www.sphinx-doc.org/">Sphinx</a> с использованием
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">темы,</a>
    предоставленной <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-XXXXXXXXXX', {
          'anonymize_ip': false,
      });
    </script> 

</body>
</html>